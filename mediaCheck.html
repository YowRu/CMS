<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="數享秉持綠能永續經營理念，成為提供差異化服務的世界級RMN公司。我們致力於協助企業追求最高的利潤及成長，幫助企業轉型，規劃並建置完善的跨平台行銷。" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
  <script src="js/loading.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
  <link rel="stylesheet" href="css/rangepicker_single.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" rel="stylesheet" />
  <link rel="stylesheet" href="css/sweetalert2.css">
  <link rel="stylesheet" href="css/layout.css" type="text/css">
  <link rel="stylesheet" href="css/mediaCheck.css">
  <title>素材審核</title>
</head>

<body>
  <header></header>
  <div id="main">
    <div class="content">
      <div class="title"></div>
      <div class="contentBG">
        <form class="searchBar" name="searchBar">
          <div class="filter">
            <div class="flex keyWords">
              <input type="text" placeholder="輸入關鍵字" class="keyWords">
            </div>
            <div class="flex type">
              <label for="type">格式 :</label>
              <select name="" id="type">
                <option value="all">全部</option>
                <option value="img">圖片</option>
                <option value="video">影片</option>
              </select>
            </div>
            <div class="flex second">
              <label for="second">秒數 :</label>
              <select name="" id="second">
                <option value="all">全部</option>
                <option value="30">30</option>
                <option value="25">25</option>
                <option value="20">20</option>
                <option value="15">15</option>
                <option value="10">10</option>
              </select>
            </div>
            <div class="flex date">
              <label for="applyDate_mediaCheck">申請日 :</label>
              <input type="text" class="dateTimepicker" id="applyDate_mediaCheck" placeholder="請選擇" />
            </div>
          </div>
          <div class="btn search"><input type="submit" value="查詢" /></div>
        </form>
        <div class="textInfo">
          <img src="img/table/textInfo.svg" alt="">
          <div class="info">點選紫色字體可進行排序</div>
        </div>
        <div class="table-responsive">
          <table class="head_bg">
            <tr>
              <td class="check"><input type="checkbox"></td>
              <td>ID</td>
              <td>名稱</td>
              <td>縮圖</td>
              <td class="sort">副檔名</td>
              <td class="sort">秒數</td>
              <td class="sort">申請日</td>
            </tr>
          </table>
          <div class="tableWp">
            <table cellspacing="0" id="mediaCheckList" class="mainTable">
              <thead>
                <tr>
                  <th class="check">
                    <input type="checkbox">
                  </th>
                  <th>編號</th>
                  <th>名稱</th>
                  <th>縮圖</th>
                  <th class="sort">副檔名</th>
                  <th class="sort">秒數</th>
                  <th class="sort">申請日</th>
                </tr>
              </thead>
              <tbody>
                <tr class="check">
                  <td class="check"><input type="checkbox"></td>
                  <td>A000000001</td>
                  <td><span class="alwaysText">[常]</span> 機場宣導</td>
                  <td class="img"><img src="img/table/smallPhoto.png" alt=""></td>
                  <td>jpg</td>
                  <td>15</td>
                  <td class="time">23.06.06</td>
                </tr>
                <tr class="check">
                  <td class="check"><input type="checkbox"></td>
                  <td>B000000002</td>
                  <td><span class="alwaysText">[常]</span>機場宣導</td>
                  <td class="img"><img src="img/table/smallPhoto.png" alt=""></td>
                  <td>jpg</td>
                  <td>10</td>
                  <td class="time">23.06.12</td>
                </tr>
                <tr class="check">
                  <td class="check"><input type="checkbox"></td>
                  <td>C000000001</td>
                  <td>機場宣導</td>
                  <td class="img"><img src="img/table/smallVideo.png" alt=""></td>
                  <td>mp4</td>
                  <td>15</td>
                  <td class="time">23.07.02</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
        <div class="batch batchCheck">批量同意</div>
        <div class="popup_bg check">
          <div class="popupWP check">
            <div class="titleWP">
              <p class="title">C000000001</p>
              <p class="close">×</p>
            </div>
            <div class="swalWP">
              <div class="check_popup popup">
                <div class="flex">
                  <p>檔名</p><span>機場宣導</span>
                </div>
                <div class="flex imageWP show"><img src="img/media/detail_Img.svg" class="show" alt=""></div>
                <div class="flex">
                  <p>格式</p><span>圖片</span>
                </div>
                <div class="flex">
                  <p>秒數</p><span>20</span>
                </div>
                <div class="flex byte">
                  <p>檔案</p><span>440000 byte</span>
                </div>
                <div class="flex size">
                  <p>尺寸</p><span>400x600</span>
                </div>
                <div class="flex size">
                  <p>墊檔</p><span><input type="checkbox" checked disabled="disabled"></span>
                </div>
                <div class="flex">
                  <p>出境,注意事項, 自助, 托運</p>
                </div>
                <div class="flex column notagree">
                  <p>不同意原因</p>
                  <textarea type="text" placeholder="請輸入不同意原因"></textarea>
                </div>
                <div class="btnWP hasTwo">
                  <div class="btn agree confirm">同意</div>
                  <div class="btn notagree">退回</div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="popup_bg delet">
          <div class="popupWP delet small">
            <div class="titleWP">
              <p class="title">批量同意</p>
              <p class="close">×</p>
            </div>
            <div class="swalWP">
              <p>確認同意所有素材嗎 ?</p>
              <div class=" btnWP">
                <div class="btn delete_confirm small">確認</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="sideNo">3</div>
  <script src="js/textInfo.js"></script>
  <script src="js/table.js"></script>
  <script src="js/datePicker.js"></script>
  <script>
    //checkbox ALL
    $('.table-responsive .head_bg td input[type="checkbox"]').click(function () {
      let num = $(this).parents('.table-responsive').find('.mainTable td input[type="checkbox"]:checked').length;
      if (num == $('.mainTable td input[type="checkbox"]').length) {
        $('.mainTable td input[type="checkbox"]').prop('checked', false);
        $('.batch').removeClass('able');
      } else {
        $('.mainTable td input[type="checkbox"]').prop('checked', true);
        $('.batch').addClass('able');
      }
    });

    //batch
    $('.mainTable input[type="checkbox"]').change(function () {
      if ($('.mainTable input[type="checkbox"]:checked').length > 1) {
        $('.batch').addClass('able');
        if ($('.mainTable input[type="checkbox"]:checked').length !== $('.mainTable input[type="checkbox"]').length) {
          $('.head_bg td input[type="checkbox"]').prop('checked', false);
        }
      } else {
        $('.batch').removeClass('able');
      }
    });

    $('.batch').click(function () {
      if ($(this).hasClass('able')) {
        $('.popup_bg.delet').fadeIn().css({ 'display': 'flex' });
        $('body').addClass('overflow');
      }
    });
    //pop
    $('td').click(function () {
      if (!$(this).hasClass('check')) {
        $('.popup_bg.check').fadeIn().css({ 'display': 'flex' });
        $('body').addClass('overflow');
      }
    });

    //close
    $('.popup_bg .titleWP .close').click(function () {
      $('.popup_bg').fadeOut();
      $('video').trigger('pause');
      window.location.replace(location.href);
    });

    //agree
    $('.flex.column textarea').change(function () {

      if ($('.flex.column textarea').val() === '') {
        $('.popupWP .btn.agree.confirm').css({ 'opacity': 1 });
        $('.popupWP .btn.notagree').css({ 'opacity': 0.35 });
        // alert(1);
      } else {
        $('.popupWP .btn.agree.confirm').css({ 'opacity': 0.35 });
        $('.popupWP .btn.notagree').css({ 'opacity': 1 });
        // alert(2);        
      }
    });
    $('.popupWP .btn.agree.confirm').click(function () {
      if ($('.flex.column textarea').val() === '') {
        Swal.fire('已審核', '', 'success');
        $('.popup_bg').fadeOut();
      } else {
        Swal.fire('請移除原因再同意', '', 'info');
      }
    });

    $('.popupWP .btn.notagree').click(function () {

      if ($('.flex.column.notagree textarea').val() === '') {
        Swal.fire('請寫原因再退回', '', 'info');
      } else {
        Swal.fire('已退回', '', 'success');
        $('.popup_bg').fadeOut();
      }

    });
  </script>
</body>

</html>