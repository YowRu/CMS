<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="數享秉持綠能永續經營理念，成為提供差異化服務的世界級RMN公司。我們致力於協助企業追求最高的利潤及成長，幫助企業轉型，規劃並建置完善的跨平台行銷。" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
  <script src="js/loading.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" rel="stylesheet" />
  <link rel="stylesheet" href="css/sweetalert2.css">
  <link rel="stylesheet" href="css/layout.css" type="text/css">
  <link rel="stylesheet" href="css/playCheck.css">
  <title>刊播審核</title>
</head>

<body>
  <header></header>
  <div id="main">
    <div class="content">
      <div class="title"></div>
      <div class="contentBG">
        <form class="searchBar" name="searchBar">
          <div class="filter">
            <div class="flex keyWords">
              <input type="text" placeholder="輸入關鍵字" class="keyWords">
            </div>
            <div class="flex state">
              <label for="state">狀態 :</label>
              <select name="" id="state">
                <option value="all">全部</option>
                <option value="" class="prepare">準備</option>
                <option value="" class="endplay">結束</option>
                <option value="" class="playing">刊播</option>
              </select>
            </div>
          </div>
          <div class="btn search"><input type="submit" value="查詢" /></div>
        </form>
        <div class="textInfo">
          <img src="img/table/textInfo.svg" alt="">
          <div class="info">點選紫色字體可進行排序</div>
        </div>
        <div class="table-responsive">
          <table class="head_bg">
            <tr>
              <td>ID</td>
              <td>刊播名稱</td>
              <td>縮圖</td>
              <td class="sort">開始日</td>
              <td class="sort">結束日</td>
              <td class="sort">週期</td>
              <td>時段</td>
              <td>刊播人</td>
              <td>操作</td>
            </tr>
          </table>
          <div class="tableWp">
            <table cellspacing="0" id="mediaCheckList" class="mainTable">
              <thead>
                <tr>
                  <th>ID</th>
                  <th class="scroll">刊播名稱</th>
                  <th>縮圖</th>
                  <th class="sort">開始日</th>
                  <th class="sort">結束日</th>
                  <th class="sort">週期</th>
                  <th>時段</th>
                  <th>刊播人</th>
                  <th>操作</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="small">A123456789</td>
                  <td class="scroll">刊播名稱</td>
                  <td class="img"><img src="img/table/smallPhoto.png" alt=""></td>
                  <td>23.06.06</td>
                  <td>24.06.06</td>
                  <td>每天</td>
                  <td class="column small">00:00<br>|<br>23:59</td>
                  <td class="small">AAAAA公司</td>
                  <td class="btnWP">
                    <p class="btnImg" onclick="window.open('mediaByDevice.html')">
                      <i class="info"><img src="img/table/Info.svg" alt="">查看</i>
                    </p>
                  </td>
                </tr>
                <tr>
                  <td class="small">A123456789</td>
                  <td class="scroll">刊播名稱</td>
                  <td class="img"><img src="img/table/smallPhoto.png" alt=""></td>
                  <td>23.06.06</td>
                  <td>24.06.06</td>
                  <td>每天</td>
                  <td class="column small">00:00<br>|<br>23:59</td>
                  <td class="small">AAAAA公司</td>
                  <td class="btnWP">
                    <p class="btnImg" onclick="window.open('mediaByDevice.html')">
                      <i class="info"><img src="img/table/Info.svg" alt="">查看</i>
                    </p>
                  </td>
                </tr>
                <tr>
                  <td class="small">A123456789</td>
                  <td class="scroll">刊播名稱</td>
                  <td class="img"><img src="img/table/smallPhoto.png" alt=""></td>
                  <td>23.06.06</td>
                  <td>24.06.06</td>
                  <td>每天</td>
                  <td class="column small">00:00<br>|<br>23:59</td>
                  <td class="small">AAAAA公司</td>
                  <td class="btnWP">
                    <p class="btnImg" onclick="window.open('mediaByDevice.html')">
                      <i class="info"><img src="img/table/Info.svg" alt="">查看</i>
                    </p>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="sideNo">6</div>
  <script src="js/textInfo.js"></script>
  <script src="js/table.js"></script>
  <script>
    //checkbox ALL
    $('.table-responsive .head_bg td input[type="checkbox"]').click(function () {
      let num = $(this).parents('.table-responsive').find('.mainTable td input[type="checkbox"]:checked').length;
      if (num == $('.mainTable td input[type="checkbox"]').length) {
        $('.mainTable td input[type="checkbox"]').prop('checked', false);
        $('.batch').removeClass('able');
      } else {
        $('.mainTable td input[type="checkbox"]').prop('checked', true);
        $('.batch').addClass('able');
      }
    });

    //batch
    $('.mainTable input[type="checkbox"]').change(function () {
      if ($('.mainTable input[type="checkbox"]:checked').length > 1) {
        $('.batch').addClass('able');
        if ($('.mainTable input[type="checkbox"]:checked').length !== $('.mainTable input[type="checkbox"]').length) {
          $('.head_bg td input[type="checkbox"]').prop('checked', false);
        }
      } else {
        $('.batch').removeClass('able');
      }
    });

    $('.batch').click(function () {
      if ($(this).hasClass('able')) {
        $('.popup_bg.delet').fadeIn().css({ 'display': 'flex' });
        $('body').addClass('overflow');
      }
    });
    //pop
    $('td').click(function () {
      if (!$(this).hasClass('check')) {
        $('.popup_bg.check').fadeIn().css({ 'display': 'flex' });
        $('body').addClass('overflow');
      }
    });

    //close
    $('.popup_bg .titleWP .close').click(function () {
      $('.popup_bg').fadeOut();
      $('video').trigger('pause');
      window.location.replace(location.href);
    });

    //agree
    $('.flex.column textarea').change(function () {

      if ($('.flex.column textarea').val() === '') {
        $('.popupWP .btn.agree.confirm').css({ 'opacity': 1 });
        $('.popupWP .btn.notagree').css({ 'opacity': 0.35 });
        // alert(1);
      } else {
        $('.popupWP .btn.agree.confirm').css({ 'opacity': 0.35 });
        $('.popupWP .btn.notagree').css({ 'opacity': 1 });
        // alert(2);        
      }
    });
    $('.popupWP .btn.agree.confirm').click(function () {
      if ($('.flex.column textarea').val() === '') {
        Swal.fire('已審核', '', 'success');
        $('.popup_bg').fadeOut();
      } else {
        Swal.fire('請移除原因再同意', '', 'info');
      }
    });

    $('.popupWP .btn.notagree').click(function () {

      if ($('.flex.column.notagree textarea').val() === '') {
        Swal.fire('請寫原因再退回', '', 'info');
      } else {
        Swal.fire('已退回', '', 'success');
        $('.popup_bg').fadeOut();
      }

    });
  </script>
</body>

</html>