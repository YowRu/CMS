<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="數享秉持綠能永續經營理念，成為提供差異化服務的世界級RMN公司。我們致力於協助企業追求最高的利潤及成長，幫助企業轉型，規劃並建置完善的跨平台行銷。" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.0/jquery.min.js"></script>
  <script src="js/loading.js"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
  <script type="text/javascript" src="js/dateRangePicker.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon" />
  <link rel="stylesheet" href="css/rangepicker_single.css">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" rel="stylesheet" />
  <link rel="stylesheet" href="css/sweetalert2.css">
  <link rel="stylesheet" href="css/layout.css" type="text/css">
  <link rel="stylesheet" href="css/switch.css">
  <link rel="stylesheet" href="css/deviceList.css">
  <title>設備控管</title>
</head>
<body>
  <header></header>
  <div id="main">
    <div class="content">
      <div class="title"></div>
      <div class="contentBG">
        <form class="searchBar" name="searchBar">
          <div class="filter">
            <div class="flex keyWords">
              <input type="text" placeholder="輸入關鍵字" class="keyWords">
            </div>
            <div class="flex screen">
              <label for="screen">螢幕 :</label>
              <select name="" id="screen">
                <option value="all">全部</option>
                <option value="horizontal">橫式</option>
                <option value="vertical">直式</option>
              </select>
            </div>
            <div class="flex state">
              <label for="state1">狀態 :</label>
              <select name="" id="state1">
                <option value="all">全部</option>
                <option value="">出租</option>
                <option value="">可租</option>
                <option value="">售出</option>
                <option value="">報廢</option>
              </select>
            </div>
          </div>
          <div class="btn search"><input type="submit" value="查詢" /></div>
        </form>
        <div class="textInfo">
          <img src="img/table/textInfo.svg" alt="">
          <div class="info">點選紫色字體可進行排序</div>
        </div>
        <div class="btn add" onClick="add()">新增</div>
        <div class="table-responsive">
          <table class="head_bg">
            <tr>
              <td class="check"></td>
              <td>mac位址</td>
              <td>地址</td>
              <td>設備名</td>
              <td class="sort">經緯</td>
              <td class="sort">狀態</td>
              <td>連線</td>
              <td>操作</td>
            </tr>
          </table>
          <div class="tableWp marginTop">
            <table cellspacing="0" id="deviceList" class="mainTable">
              <thead>
                <tr>
                  <th>mac address</th>
                  <th>地址</th>
                  <th>設備</th>
                  <th class="sort">經緯</th>
                  <th class="sort">狀態</th>
                  <th>連線</th>
                  <th>操作</th>
                </tr>
              </thead>
              <tbody>
                <tr class="main">
                  <td class="check">
                    <img src="img/table/close.svg" alt="" class="detailClose" onclick="detail(this)">
                  </td>
                  <td class="small">8C:35:92:FB:EC:71</td>
                  <td>台北市信義區仁愛路四段505號1樓</td>
                  <td>國父紀念館</td>
                  <td class="small">25.0669600000<br>121.5235000000</td>
                  <td>出租</td>
                  <td class="online">Y</td>
                  <td class="btnWP">
                    <p class="btnImg">
                      <span class="flex">
                        <i class="edit"><img src="img/table/edit.svg" alt="" class="edit" onClick="edit()">編輯</i>
                        <i class="detail"><img src="img/table/detail.svg" alt="" class="detail"
                            onclick="window.location = 'deviceLog.html'">歷程</i>
                      </span>
                      <span><i class="screenshot"><img src="img/table/screenshot.svg" alt="" class="screenshot"
                            onclick="window.open('download.html', '_blank')">截圖</i></span>
                    </p>
                  </td>
                </tr>
                <tr class="detail">
                  <td colspan="8">
                    <table class="detailContent">
                      <tr>
                        <th class="num">刊播編號</th>
                        <th>刊播名稱</th>
                        <th class="img">縮圖</th>
                        <th class="second">秒數</th>
                        <th class="small">起訖日</th>
                        <th class="small">時段</th>
                        <th>狀態</th>
                      </tr>
                      <tr>
                        <td class="num">A123456789</td>
                        <td>uhioho1</td>
                        <td class="img">
                          <img src="img/table/smallPhoto.png" alt="">
                        </td>
                        <td class="second">20</td>
                        <td class="small">2023.09.21<br>|<br>2023.10.31</td>
                        <td class="small">17:56<br>|<br>17:56</td>
                        <td class="prepare">準備中</td>
                      </tr>
                    </table>
                  </td>
                </tr>
                <tr class="main">
                  <td class="check">
                    <img src="img/table/close.svg" alt="" class="detailClose" onclick="detail(this)">
                  </td>
                  <td class="small">8C:35:92:FB:EC:71</td>
                  <td>台北市信義區信義路五段7號89樓</td>
                  <td>101景觀台</td>
                  <td class="small">25.0669600000<br>121.5235000000</td>
                  <td>售出</td>
                  <td class="online">Y</td>
                  <td class="btnWP">
                    <p class="btnImg">
                      <span class="flex">
                        <i class="edit"><img src="img/table/edit.svg" alt="" class="edit" onClick="edit()">編輯</i>
                        <i class="detail"><img src="img/table/detail.svg" alt="" class="detail"
                            onclick="window.location = 'deviceLog.html'">歷程</i>
                      </span>
                      <span><i class="screenshot"><img src="img/table/screenshot.svg" alt="" class="screenshot"
                            onclick="window.open('download.html', '_blank')">截圖</i></span>
                    </p>
                  </td>
                </tr>
                <tr class="detail">
                  <td colspan="8">
                    <table class="detailContent">
                      <tr>
                        <th class="num">刊播編號</th>
                        <th>刊播名稱</th>
                        <th class="img">縮圖</th>
                        <th class="second">秒數</th>
                        <th class="small">起訖日</th>
                        <th class="small">時段</th>
                        <th>狀態</th>
                      </tr>
                      <tr>
                        <td class="num">A123456789</td>
                        <td>刊播11111</td>
                        <td class="img">
                          <img src="img/table/smallPhoto.png" alt="">
                        </td>
                        <td class="second">20</td>
                        <td class="small">2023.09.21<br>|<br>2023.10.31</td>
                        <td class="small">17:56<br>|<br>17:56</td>
                        <td class="endplay">已結束</td>
                      </tr>
                    </table>
                  </td>
                </tr>
                <tr class="main">
                  <td class="check">
                    <img src="img/table/close.svg" alt="" class="detailClose" onclick="detail(this)">
                  </td>
                  <td class="small">8C:35:92:FB:EC:71</td>
                  <td>新北市板橋區縣民大道二段7號</td>
                  <td>新北耶誕城</td>
                  <td class="small">25.0669600000<br>121.5235000000</td>
                  <td>售出</td>
                  <td class="online">N</td>
                  <td class="btnWP">
                    <p class="btnImg">
                      <span class="flex">
                        <i class="edit"><img src="img/table/edit.svg" alt="" class="edit" onClick="edit()">編輯</i>
                        <i class="detail"><img src="img/table/detail.svg" alt="" class="detail"
                            onclick="window.location = 'deviceLog.html'">歷程</i>
                      </span>
                      <span><i class="screenshot"><img src="img/table/screenshot.svg" alt="" class="screenshot"
                            onclick="window.open('download.html', '_blank')">截圖</i></span>
                    </p>
                  </td>
                </tr>
                <tr class="detail">
                  <td colspan="8">
                    <table class="detailContent">
                      <tr>
                        <th class="num">刊播編號</th>
                        <th>刊播名稱</th>
                        <th class="img">縮圖</th>
                        <th class="second">秒數</th>
                        <th class="small">起訖日</th>
                        <th class="small">時段</th>
                        <th>狀態</th>
                      </tr>
                      <tr>
                        <td class="num">A123456789</td>
                        <td>吃飽睡好</td>
                        <td class="img">
                          <img src="img/table/smallPhoto.png" alt="">
                        </td>
                        <td class="second">20</td>
                        <td class="small">2023.09.21<br>|<br>2023.10.31</td>
                        <td class="small">17:56<br>|<br>17:56</td>
                        <td class="playing">刊播中</td>
                      </tr>
                      <tr>
                        <td class="num">A123456789</td>
                        <td>吃飽睡飽，人生美好</td>
                        <td class="img">
                          <img src="img/table/smallPhoto.png" alt="">
                        </td>
                        <td class="second">20</td>
                        <td class="small">2023.09.01<br>17:56</td>
                        <td class="small">2023.10.01<br>17:56</td>
                        <td class="playing">刊播中</td>
                      </tr>
                      <tr>
                        <td class="num">A123456789</td>
                        <td>我想睡到自然醒</td>
                        <td class="img">
                          <img src="img/table/smallPhoto.png" alt="">
                        </td>
                        <td class="second">20</td>
                        <td class="small">2023.09.01<br>17:56</td>
                        <td class="small">2023.10.01<br>17:56</td>
                        <td class="playing">刊播中</td>
                      </tr>
                    </table>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="popup_bg detailList">
    <div class="popupWP add">
      <div class="titleWP">
        <p class="title">A123456789</p>
        <p class="close">×</p>
      </div>
      <div class="swalWP">
        <div class="add_popup popup">
          <div class="flex">
            <p>刊播名稱</p>
            <span class="fontLevel_3">uhioho1</span>
          </div>
          <div class="flex imageWP show"><img src="img/media/detail_Img.svg" class="show" alt=""></div>
          <div class="flex">
            <p>秒數</p>
            <span class="fontLevel_3">20</span>
          </div>
          <div class="flex name">
            <p>開始日</p>
            <span class="fontLevel_3">2023.11.09</span>
          </div>
          <div class="flex name">
            <p>結束日</p>
            <span class="fontLevel_3">2024-01-13</span>
          </div>
          <div class="flex name">
            <p>狀態</p>
            <span class="fontLevel_3">刊播中</span>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="popup_bg add">
    <div class="popupWP add">
      <div class="titleWP">
        <p class="title">新增設備</p>
        <p class="close">×</p>
      </div>
      <div class="swalWP">
        <div class="add_popup popup">
          <div class="flex">
            <p>機型名稱</p>
            <span class="mac fontLevel_3">安卓</span>
          </div>
          <div class="flex">
            <p>機型型號</p>
            <span class="mac fontLevel_3">MLVC3TA/A</span>
          </div>
          <div class="flex">
            <p>mac address</p>
            <span class="mac fontLevel_3">2747326732698629</span>
          </div>
          <div class="flex name">
            <p>設備名稱</p>
            <input type="text" class="fontLevel_1 space_around" placeholder="請輸入名稱" />
          </div>
          <div class="flex address">
            <p>設備地址</p>
            <div class="addressWP">
              <select name="">
                <option value="">台北市</option>
              </select>
              <select name="">
                <option value="">中山區</option>
              </select>
              <input type="text" class="fontLevel_1 space_around address" placeholder="請輸入地址" value="德惠街7-1號" />
            </div>
          </div>
          <div class="flex screen">
            <p>螢幕</p>
            <div class="screenWP">
              <input type="text" placeholder="螢幕長" class="fontLevel_1" value="1280">
              <span> X </span>
              <input type="text" placeholder="螢幕寬" class="fontLevel_1" value="832">
            </div>
          </div>
          <div class="flex state">
            <p>狀態</p>
            <select name="" id="state2">
              <option value="">請選擇</option>
              <option value="">出租</option>
              <option value="">售出</option>
              <option value="">報廢</option>
            </select>
          </div>
          <div class="flex company">
            <p>公司</p>
            <input type="text" class="fontLevel_1 space_around" placeholder="請輸入公司" />
          </div>
          <div class="flex address">
            <p>公司地址</p>
            <div class="addressWP">
              <select name="">
                <option value="">台北市</option>
              </select>
              <select name="">
                <option value="">大安區</option>
              </select>
              <input type="text" class="fontLevel_1 space_around address" placeholder="請輸入地址" value="新湖二路257號5樓" />
            </div>
          </div>
          <div class="flex contract">
            <p>合約</p>
            <div class="contractWP">
              <input type="text" class="datepicker" value="2023.09.15" id="add_contract_start" placeholder="開始日" />
              <p>-</p>
              <input type="text" class="datepicker" value="2024.09.15" id="add_contract_end" placeholder="結束日" />
            </div>
          </div>
          <div class="flex tag">
            <textarea name="" cols="30" rows="1" placeholder="多個標籤,請用逗號分開"></textarea>
          </div>
          <div class="btnWP">
            <div class="btn">送出</div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="popup_bg edit">
    <div class="popupWP width600 edit">
      <div class="titleWP">
        <ul class="tabs">
          <li><a href="#tab1">關於設備</a></li>
          <li><a href="#tab2">前台資訊</a></li>
          <li><a href="#tab3">控制中心</a></li>
          <li><a href="#tab4">合約相關</a></li>
        </ul>
        <p class="close">×</p>
      </div>
      <ul class="swalWP tab_container">
        <li id="tab1" class="tab_content">
          <div class="edit_popup popup flex">
            <div class="info">
              <div class="flex">
                <p>機型名稱</p><span>安卓</span>
              </div>
              <div class="flex">
                <p>機型型號</p><span>MLVC3TA/A</span>
              </div>
              <div class="flex">
                <p>mac address</p><span>mac位址</span>
              </div>
              <div class="flex gps">
                <p>經緯度</p>
                <span>121.564101,25.033493</span>
              </div>
              <div class="flex gps">
                <p>地址</p>
                <span>台北市中山區德惠街7-1號</span>
              </div>
              <div class="flex">
                <p>螢幕</p>
                <div class="screenWP">
                  <span>1280</span>
                  <span>x</span>
                  <span>832</span>
                </div>
              </div>
            </div>
          </div>
        </li>
        <li id="tab2" class="tab_content">
          <div class="edit_popup popup flex">
            <div class="info">
              <div class="flex">
                <p>日期</p>
                <div class="switch switch__2"><input id="switch-1" type="checkbox" checked><label
                    for="switch-1"></label>
                </div>
              </div>
              <div class="flex">
                <p>時間</p>
                <div class="switch switch__2"><input id="switch-2" type="checkbox" checked><label
                    for="switch-2"></label>
                </div>
              </div>
              <div class="flex">
                <p>天氣</p>
                <div class="switch switch__2"><input id="switch-3" type="checkbox" checked><label
                    for="switch-3"></label>
                </div>
              </div>
              <div class="flex">
                <p>車次</p>
                <div class="switch switch__2"><input id="switch-4" type="checkbox" checked><label
                    for="switch-4"></label>
                </div>
              </div>
              <div class="flex">
                <p>路況</p>
                <div class="switch switch__2"><input id="switch-5" type="checkbox" checked><label
                    for="switch-5"></label>
                </div>
              </div>
            </div>
          </div>
          <div class=" btnWP">
            <div class="btn confirm small">確認</div>
          </div>
        </li>
        <li id="tab3" class="tab_content">
          <div class="edit_popup popup flex">
            <div class="info">
              <div class="flex">
                <p>設備名稱</p><input type="text" class="fontLevel_1 space_around" placeholder="請自訂設備名稱" value="公館誠品A區" />
              </div>
              <div class="flex"><textarea name="" cols="30" rows="1" placeholder="多個標籤,請用逗號分開">台大,公館,誠品A區</textarea>
              </div>
              <div class="flex">
                <p>息屏</p>
                <div class="closeTime">
                  <select name="">
                    <option value="0">00點</option>
                    <option value="1">01點</option>
                    <option value="2">02點</option>
                    <option value="3">03點</option>
                    <option value="4">04點</option>
                    <option value="5">05點</option>
                    <option value="6">06點</option>
                    <option value="7">07點</option>
                    <option value="8">08點</option>
                    <option value="9">09點</option>
                    <option value="10">10點</option>
                    <option value="11">11點</option>
                    <option value="12">12點</option>
                    <option value="13">13點</option>
                    <option value="14">14點</option>
                    <option value="15">15點</option>
                    <option value="16">16點</option>
                    <option value="17">17點</option>
                    <option value="18">18點</option>
                    <option value="19">19點</option>
                    <option value="20">20點</option>
                    <option value="21">21點</option>
                    <option value="22">22點</option>
                    <option value="23">23點</option>
                  </select>
                  <span>到</span>
                  <select name="">
                    <option value="0">00點</option>
                    <option value="1">01點</option>
                    <option value="2">02點</option>
                    <option value="3">03點</option>
                    <option value="4">04點</option>
                    <option value="5">05點</option>
                    <option value="6">06點</option>
                    <option value="7">07點</option>
                    <option value="8">08點</option>
                    <option value="9">09點</option>
                    <option value="10">10點</option>
                    <option value="11">11點</option>
                    <option value="12">12點</option>
                    <option value="13">13點</option>
                    <option value="14">14點</option>
                    <option value="15">15點</option>
                    <option value="16">16點</option>
                    <option value="17">17點</option>
                    <option value="18">18點</option>
                    <option value="19">19點</option>
                    <option value="20">20點</option>
                    <option value="21">21點</option>
                    <option value="22">22點</option>
                    <option value="23">23點</option>
                  </select>
                </div>
              </div>
              <div class="flex">
                <p>立即重開</p>
                <div class="button" onclick="reboot()">確認</div>
              </div>
              <div class="flex">
                <p>分割畫面</p>
                <div class="multiselect">
                  <div class="selectBox" onclick="showCheckboxes()">
                    <select>
                      <option checked>全畫面</option>
                      <option>橫式雙畫面</option>
                      <option>橫式三畫面</option>
                      <option>直式雙畫面</option>
                      <option>直式三畫面</option>
                    </select>
                    <div class="overSelect"></div>
                  </div>
                  <div id="checkboxes">
                    <div class="flex">
                      <label for="one"><input type="radio" name="splitScreen" id="one" value="1" checked /></label>
                      <img src="img/device/all.png" alt="">
                    </div>
                    <div class="flex">
                      <label for="two"><input type="radio" name="splitScreen" id="two" value="2" /></label>
                      <img src="img/device/horizontal2.png" alt="">
                    </div>
                    <div class="flex">
                      <label for="three"><input type="radio" name="splitScreen" id="three" value="3" /></label>
                      <img src="img/device/horizontal3.png" alt="">
                    </div>
                    <div class="flex">
                      <label for="four">
                        <input type="radio" name="splitScreen" id="four" value="4" />
                      </label><img src="img/device/vertical2.png" alt="">
                    </div>
                    <div class="flex">
                      <label for="five">
                        <input type="radio" name="splitScreen" id="five" value="5" />
                      </label>
                      <img src="img/device/vertical3.png" alt="">
                    </div>
                  </div>
                </div>
              </div>
              <div class="flex">
                <p>音量</p><input type="text" class="fontLevel_1 space_around" placeholder="請輸入0-10" value="10" />
              </div>
              <span class="sound">最小音量:0 ,最大音量:10</span>
            </div>
          </div>
          <div class=" btnWP">
            <div class="btn confirm small">確認</div>
          </div>
        </li>
        <li id="tab4" class="tab_content">
          <div class="edit_popup popup flex">
            <div class="info">
              <div class="flex">
                <p>公司</p><input type="text" class="fontLevel_1 space_around" placeholder="請輸入公司" value="宇豐光電股份有限公司" />
              </div>
              <div class="flex">
                <p>地址</p>
                <div class="addressWP">
                  <select name="">
                    <option value="">台北市</option>
                  </select>
                  <select name="">
                    <option value="">大安區</option>
                  </select>
                  <input type="text" class="fontLevel_1 space_around address" placeholder="請輸入地址" value="新湖二路257號5樓" />
                </div>
              </div>
              <div class="flex contract">
                <p>合約</p>
                <div class="contractWP">
                  <input type="text" id="edit_contract" class="datepicker" value="2023.11.30 - 2024.11.30" />
                </div>
              </div>
              <div class="flex state">
                <p>狀態</p>
                <select name="" id="state3">
                  <option value="">請選擇</option>
                  <option value="" selected="selected">出租</option>
                  <option value="">售出</option>
                  <option value="">報廢</option>
                </select>
              </div>
              <div class="flex">
                <p>設備上架</p>
                <div class="switch switch__2"><input id="switch-6" type="checkbox" checked><label
                    for="switch-6"></label>
                </div>
              </div>
            </div>
          </div>
          <div class=" btnWP">
            <div class="btn confirm small">確認</div>
          </div>
        </li>
      </ul>
    </div>
  </div>
  <div class="popup_bg reopen">
    <div class="popupWP reopen small">
      <div class="titleWP">
        <p class="title">是否重開</p>
        <p class="close">×</p>
      </div>
      <div class="swalWP">
        <p>確認重開此裝置嗎 ?</p>
        <div class=" btnWP">
          <div class="btn reopen_confirm small">確認</div>
        </div>
      </div>
    </div>
  </div>
  <div class="popup_bg screenshot">
    <div class="popupWP screenshot small">
      <div class="titleWP">
        <p class="title">是否截圖</p>
        <p class="close">×</p>
      </div>
      <div class="swalWP">
        <p>確認截圖嗎 ?</p>
        <div class=" btnWP">
          <div class="btn screenshot_confirm small">確認</div>
        </div>
      </div>
    </div>
  </div>
  <div class="popup_bg changeMedia">
    <div class="popupWP changeMedia small">
      <div class="titleWP">
        <p class="title">替換素材</p>
        <p class="close">×</p>
      </div>
      <div class="swalWP">
        <p>確認替換素材嗎 ?</p>
        <div class=" btnWP">
          <div class="btn changeMedia_confirm small">確認</div>
        </div>
      </div>
    </div>
  </div>
  <div class="sideNo">4</div>
  <script src="js/textInfo.js"></script>
  <script src="js/datePicker.js"></script>
  <script>
    //detailContent
    $('.detailContent').click(function () {
      $('.popup_bg.detailList').fadeIn().css({ 'display': 'flex' });
      $('body').addClass('overflow');
    });

    //tableWp H
    let contentH = $('#main .contentBG').height();
    $('.table-responsive .tableWp').height(contentH - 174);
    
    //online
    $('.online').each(function () {
      if ($(this).text() == 'Y') {
        $(this).addClass('Y');
      } else {
        $(this).addClass('N');
      }
    });

    //get date time
    let dayNow = new Date();
    let day = dayNow.getDate();
    let month = dayNow.getMonth();
    let year = dayNow.getFullYear();

    //close
    $('.popup_bg .titleWP .close, .btn.confirm.small').click(function () {
      $(this).parents('.popup_bg').hide();
      $('video').trigger('pause');
    });

    //detail
    function detail(obj) {
      if ($(obj).hasClass('detailClose')) {
        $(obj).prop({ 'src': 'img/table/open.svg', 'class': 'detailOpen' });
      } else {
        $(obj).prop({ 'src': 'img/table/close.svg', 'class': 'detailClose' });
      }
      $(obj).parents('tr').next('.detail').slideToggle();
    }

    //add verify
    function addVerify() {
      let city = $('.popupWP.add div.flex.city input').val(),
        area = $('.popupWP.add div.flex.area input').val(),
        road = $('.popupWP.add div.flex.road input').val(),
        company = $('.popupWP.add div.flex.company input').val(),
        state = $('.popupWP.add div.flex.state select'),
        tag = $('.popupWP.add div.flex.tag textarea').val();
      if (city !== '' && area !== '' && road !== '' && company !== '' && state.find('option:selected').text() !== '請選擇' && tag !== '') {
        $('.popupWP.add .btnWP .btn').addClass('confirm');
      }
    };

    //add change btn bg-color
    $('.popupWP.add div.flex.city input, .popupWP.add div.flex.area input, .popupWP.add div.flex.road input, .popupWP.add div.flex.company input, .popupWP.add div.flex.tag textarea').change(function () {
      addVerify();
    });

    //add submit
    $('.popupWP.add .btnWP .btn').click(function () {
      let name = $('.popupWP.add div.flex.name input').val(),
        city = $('.popupWP.add div.flex.city input').val(),
        area = $('.popupWP.add div.flex.area input').val(),
        road = $('.popupWP.add div.flex.road input').val(),
        company = $('.popupWP.add div.flex.company input').val(),
        state = $('.popupWP.add div.flex.state select'),
        tag = $('.popupWP.add div.flex.tag textarea').val();

      function reflash() {
        window.location.replace(location.href);
      }
      if (name === '') {
        Swal.fire('請輸入設備名稱', '', 'info');
      } else if (city === '') {
        Swal.fire('請輸入縣市', '', 'info');
      } else if (area === '') {
        Swal.fire('請輸入區域', '', 'info');
      } else if (road === '') {
        Swal.fire('請輸入地址', '', 'info');
      } else if (state.find('option:selected').text() === '請選擇') {
        Swal.fire('請輸入狀態', '', 'info');
      } else if (company === '') {
        Swal.fire('請輸入公司', '', 'info');
      } else if (tag === '') {
        Swal.fire('請輸入標籤', '', 'info');
      } else {
        $(this).addClass('confirm');
        setTimeout(function () { Swal.fire('已新增', '', 'success') }, 800);
        setTimeout(reflash, 2000);
      }
      //ajax
    });

    //add 
    function add() {
      $('.popup_bg.add').fadeIn().css({ 'display': 'flex' });
      $('body').addClass('overflow');
    }

    //edit
    function edit() {
      $('.popup_bg.edit').fadeIn().css({ 'display': 'flex' });
      $('body').addClass('overflow');
      $('#edit_contract').daterangepicker({
        drops: 'down',
        opens: 'center',
        timePicker: false,
        locale: {
          format: 'YYYY.MM.DD'
        }
      });
      let dateText = $('.daterangepicker .drp-selected').text();
      $('#edit_contract').attr('value', dateText);
      console.log(dateText);
    }

    //reopen
    let reopen = true;
    function reboot() {
      $('.popup_bg.reopen').fadeIn().css({ 'display': 'flex' });
      $('body').addClass('overflow');
    }

    $('.popup_bg.reopen .btn.reopen_confirm').click(function () {

      if (!reopen) {
        Swal.fire('已經重開，請稍候再試', '', 'info');
        $('.popup_bg.reopen').fadeOut();
      } else {
        Swal.fire('確認重開', '', 'success');
        $('.popup_bg.reopen').fadeOut();
        reopen = false;
        setTimeout(function () {
          reopen = true;
        }, 30000);
      }

    });

    //screenshot
    let capture = true;
    function screenshot() {
      $('.popup_bg.screenshot').fadeIn().css({ 'display': 'flex' });
      $('body').addClass('overflow');
    }

    $('.popup_bg.screenshot .btn').click(function () {

      if (!capture) {
        Swal.fire('已經截圖，請稍候再試', '', 'info');
        $('.popup_bg.screenshot').fadeOut();
      } else {
        Swal.fire('確認截圖', '', 'success');
        $('.popup_bg.screenshot').fadeOut();
        capture = false;
        setTimeout(function () {
          capture = true;
        }, 30000);
      }

    });

    //changeMedia
    function changeMedia() {
      $('.popup_bg.changeMedia').fadeIn().css({ 'display': 'flex' });
      $('body').addClass('overflow');
    }

    //next btn
    $('.popup_bg.changeMedia .btn').click(function () {
      window.location = "https://yowru.github.io/CMS/playStep4.html";
    });

    //tab
    $(function () {
      let _showTab = 0;
      $('.popup_bg.edit .popupWP').each(function () {
        let $tab = $(this);
        let $defaultLi = $('.tabs li', $tab).eq(_showTab).addClass('active');
        $($defaultLi.find('a').attr('href')).siblings().hide();

        $('.tabs li', $tab).click(function () {
          let $this = $(this),
            _clickTab = $this.find('a').attr('href');
          $this.addClass('active').siblings('.active').removeClass('active');
          $(_clickTab).stop(false, true).fadeIn().siblings().hide();

          return false;
        }).find('a').focus(function () {
          this.blur();
        });
      });
    });

    //split screen
    let expanded = false;

    function showCheckboxes() {
      let checkboxes = document.getElementById("checkboxes");
      if (!expanded) {
        checkboxes.style.display = "block";
        expanded = true;
      } else {
        checkboxes.style.display = "none";
        expanded = false;
      }
    }
    $('#checkboxes input').click(function () {

      switch ($('#checkboxes input:checked').val()) {
        case '1':
          $('.multiselect select option').text('全畫面');
          break;
        case '2':
          $('.multiselect select option').text('橫式雙畫面');
          break;
        case '3':
          $('.multiselect select option').text('橫式三畫面');
          break;
        case '4':
          $('.multiselect select option').text('直式雙畫面');
          break;
        case '5':
          $('.multiselect select option').text('直式三畫面');
          break;
      }
      $('#checkboxes').slideUp();
    });


  </script>
</body>

</html>